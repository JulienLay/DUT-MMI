<!DOCTYPE html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>TP 2 : jeu de cartes</title>
    <style>

        div#jeu p {
            background:#cc0000;
            border-radius:4px;
            width:60px;
            height:60px;
            float:left;
            margin:5px 5px 5px 5px;
        }

        div#jeu img {
            max-width: 100%;
            width: 10%;
        }
    </style>
</head>
<body>
<div id="jeu">     </div>
<script>
    // déclaration du tableau contenant les 52 nom de cartes
    let jeu = ["01_carreau","02_carreau","03_carreau","04_carreau","05_carreau","06_carreau","07_carreau","08_carreau","09_carreau","10_carreau","11_carreau","12_carreau","13_carreau",
        "01_coeur","02_coeur","03_coeur","04_coeur","05_coeur","06_coeur","07_coeur","08_coeur","09_coeur","10_coeur","11_coeur","12_coeur","13_coeur",
        "01_pique","02_pique","03_pique","04_pique","05_pique","06_pique","07_pique","08_pique","09_pique","10_pique","11_pique","12_pique","13_pique",
        "01_trefle","02_trefle","03_trefle","04_trefle","05_trefle","06_trefle","07_trefle","08_trefle","09_trefle","10_trefle","11_trefle","12_trefle","13_trefle"];

    // rôle : créer une carte
    // paramètres : nom de la carte
    // retour : affichage de la carte
    function creerCarte(nomCarte) {
        let carte = document.createElement("img");
        carte.id = nomCarte;
        carte.className = "carte";
        document.getElementById("jeu").appendChild(carte);
        carte.src = "cartes/" + nomCarte + ".gif";
    }

    // rôle : retourner une carte
    // paramètres : nom de la carte
    // retour : affichage de la carte retournée
    function retournerVerso(nomCarte) {
        if (document.getElementById(nomCarte) != null) {
            document.getElementById(nomCarte).src = "cartes/verso.gif";
        }
    }

    // rôle : retourner une carte qui est en verso
    // paramètres : nom de la carte
    // retour : affichage de la carte re retournée
    function retournerRecto(nomCarte) {
        if (document.getElementById(nomCarte) != null) {
            document.getElementById(nomCarte).src = "cartes/" + nomCarte + ".gif";
        }
    }

    // rôle : prendre un nom de carte au hasard dans le tableau
    // paramètres : nom du tableau
    // retour : un élément au hasard du tableau
    function choisirHasard(tab) {
        let i = Math.round(Math.random()*(tab.length-1));
        return tab[i];
    }

    console.log(choisirHasard(jeu));

    // rôle : cherche si une carte, dont le nom est passé en paramètre, est déjà affichée
    // paramètres : nom d'un carte
    // retour : true si elle existe, false sinon
    function verifierDejaChoisie(nomCarte) {
        if(document.getElementById(nomCarte) != null) {
            return true;
        }
        return false;
    }

    console.log(verifierDejaChoisie("01_coeur"));

    for(let j=0;j<5;j++) {
        let carte = choisirHasard(jeu);
        while (verifierDejaChoisie(carte)) {
            carte = choisirHasard(jeu);
        }
        creerCarte(carte);
    }
    
</script>